window.xpw=function(){function e(e){for(var n=[],t=0,o=e.length;o>t;t++){var i=Number(e.charCodeAt(t)).toString(16);i.length<2&&(i="0"+i),2==i.length&&n.push(i)}return n.join("")}function n(e){for(var n=e.toString(),t="",o=0;o<n.length;o+=2)t+=String.fromCharCode(parseInt(n.substr(o,2),16));return t}var t={serialTransmit:function(n){if("undefined"!=typeof n){var t="1"==n.line||"2"==n.line?n.line:"1";if("undefined"==typeof n.message)return void("undefined"!=typeof n.done&&n.done({success:!1,error:"No Message to send"}));var o="group=Line&optionalGroupInstance=";o+=t,o+="&optionalItem=Transmitter&action=Hex Transmit ",o+=String(e(n.message));var i=new XMLHttpRequest;"undefined"!=typeof n.done&&(i.onreadystatechange=function(){4==i.readyState&&n.done(200==i.status?{success:!0}:{success:!1})}),i.open("POST","/action/status",!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(o)}},serialReceive:function(e){if("undefined"!=typeof e){var t="1"==e.line||"2"==e.line?e.line:"1",o="group=Line&optionalGroupInstance=";o+=t,o+="&optionalItem=Receiver&action=Hex Receive";var i=new XMLHttpRequest;"undefined"!=typeof e.done&&(i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var t=i.responseXML,o=t.getElementsByTagName("message"),s=t.getElementsByTagName("result");if("Succeeded"==s[0].childNodes[0].nodeValue){var a="";o[0]&&o[0].childNodes.length>0&&(a=o[0].childNodes[0].nodeValue,a=a.replace(/\s+/g,""),a=n(a)),e.done({success:!0,message:a})}else e.done({success:!1})}else e.done({success:!1})}),i.open("POST","/action/status",!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(o)}},getLineConfig:function(e){if("undefined"!=typeof e){var n="1"==e.line||"2"==e.line?e.line:"1",t=new XMLHttpRequest;"undefined"!=typeof e.done&&(t.onreadystatechange=function(){if(4==t.readyState)if(200==t.status){for(var n={},o=t.responseXML,i=o.getElementsByTagName("configitem"),s=0;s<i.length;s++)i[s].getElementsByTagName("value")[0].childNodes.length>0&&(n[i[s].getAttribute("name")]=i[s].getElementsByTagName("value")[0].childNodes[0].nodeValue);e.done({success:!0,lineConfig:n})}else e.done({success:!1})});var o="optionalGroupList=Line:"+n;t.open("POST","/export/config",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(o)}},setLineConfig:function(e){if("undefined"!=typeof e&&"undefined"!=typeof e.line&&"undefined"!=typeof e.items){var n="1"==e.line||"2"==e.line?e.line:"1",t=new XMLHttpRequest,o='<?xml version="1.0" standalone="yes"?><!-- Automatically generated XML --><!DOCTYPE configrecord [  <!ELEMENT configrecord (configgroup+)><!ELEMENT configgroup (configitem+)><!ELEMENT configitem (value+)><!ELEMENT value (#PCDATA)><!ATTLIST configrecord version CDATA #IMPLIED><!ATTLIST configgroup name CDATA #IMPLIED><!ATTLIST configgroup instance CDATA #IMPLIED><!ATTLIST configitem name CDATA #IMPLIED><!ATTLIST configitem instance CDATA #IMPLIED><!ATTLIST value name CDATA #IMPLIED>]><configrecord version = "0.1.0.1"><configgroup name = "Line" instance = "'+n+'">';for(var i in e.items)o+='<configitem name = "'+i+'"><value>'+e.items[i]+"</value></configitem>";o+="</configgroup></configrecord>";var s=new FormData;s.append("configrecord",o),"undefined"!=typeof e.done&&(t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var n=t.responseXML,o=n.getElementsByTagName("result");e.done("Succeeded"==o[0].childNodes[0].nodeValue?{success:!0}:{success:!1})}}),t.open("POST","/import/config",!0),t.send(s)}}};return t}();